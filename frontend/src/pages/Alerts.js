import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { BellRing, Filter, Siren, Target } from "lucide-react";
import AppShell from "../components/AppShell";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "../components/Card";
import MetricCard from "../components/MetricCard";
import StatusBadge from "../components/StatusBadge";
import { useAuth } from "../context/AuthContext";
const alertMetrics = [
    { label: "Open alerts", value: "7", change: "-3 resolved", trend: "down", icon: _jsx(BellRing, { className: "h-4 w-4" }) },
    { label: "MTTA", value: "41s", change: "-5s week", trend: "up", icon: _jsx(Target, { className: "h-4 w-4" }) },
    { label: "Critical", value: "2", change: "Holding steady", trend: "neutral", icon: _jsx(Siren, { className: "h-4 w-4" }) }
];
const alertFeed = [
    { id: "alert-1", title: "Gateway mesh degraded", severity: "Critical", variant: "danger", detail: "Cluster delta retrying PLC sync", raised: "2m", owner: "Delta SRE" },
    { id: "alert-2", title: "Cold chain drift", severity: "Warning", variant: "warning", detail: "Temp oscillation +0.6Â°C", raised: "14m", owner: "Gamma Ops" },
    { id: "alert-3", title: "Overcurrent chiller", severity: "Info", variant: "info", detail: "Auto trim applied", raised: "28m", owner: "Energy Ops" }
];
const filters = ["Critical", "Warning", "Maintenance", "Heartbeat"];
const Alerts = () => {
    const { user, logout } = useAuth();
    const operatorName = user?.full_name || user?.email;
    return (_jsx(AppShell, { title: "Alerts", subtitle: "Single triage surface across automations, gateways, and energy", userName: operatorName, onLogout: logout, activeRoute: "alerts", children: _jsxs("div", { className: "flex flex-col gap-8", children: [_jsx("section", { className: "grid grid-cols-1 gap-4 sm:grid-cols-3", children: alertMetrics.map((metric) => (_jsx(MetricCard, { ...metric }, metric.label))) }), _jsxs("section", { className: "grid grid-cols-1 gap-6 lg:grid-cols-[2fr_1fr]", children: [_jsxs(Card, { className: "border-border/50 bg-card/80", children: [_jsxs(CardHeader, { className: "flex flex-col gap-3", children: [_jsxs("div", { className: "flex items-center justify-between", children: [_jsxs("div", { children: [_jsx(CardTitle, { children: "Alert queue" }), _jsx(CardDescription, { children: "Federated alerts normalized with MITRE tags" })] }), _jsxs("button", { type: "button", className: "inline-flex items-center gap-1 rounded-full border border-border/60 bg-background/70 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-muted-foreground", children: [_jsx(Filter, { className: "h-3.5 w-3.5" }), "Filter"] })] }), _jsx("div", { className: "flex flex-wrap gap-2 text-xs font-semibold uppercase tracking-wide", children: filters.map((filter) => (_jsx("span", { className: "rounded-full border border-border/60 bg-background/60 px-3 py-1 text-muted-foreground", children: filter }, filter))) })] }), _jsx(CardContent, { className: "space-y-4", children: alertFeed.map((alert) => (_jsxs("div", { className: "rounded-2xl border border-border/60 bg-background/70 p-4", children: [_jsxs("div", { className: "flex flex-wrap items-center justify-between gap-2", children: [_jsxs("div", { children: [_jsx("p", { className: "font-semibold text-card-foreground", children: alert.title }), _jsx("p", { className: "text-sm text-muted-foreground", children: alert.detail })] }), _jsx(StatusBadge, { label: alert.severity, variant: alert.variant })] }), _jsxs("div", { className: "mt-3 flex flex-wrap items-center gap-4 text-xs text-muted-foreground", children: [_jsxs("span", { children: ["Raised ", alert.raised, " ago"] }), _jsxs("span", { children: ["Owner ", alert.owner] })] })] }, alert.id))) })] }), _jsxs(Card, { className: "border-border/50 bg-card/85 backdrop-blur", children: [_jsxs(CardHeader, { children: [_jsx(CardTitle, { children: "Runway" }), _jsx(CardDescription, { children: "What happens when triage completes" })] }), _jsxs(CardContent, { className: "space-y-4", children: [_jsxs("div", { className: "rounded-2xl border border-border/70 bg-background/70 p-4 text-sm text-muted-foreground", children: [_jsx("p", { className: "text-xs uppercase tracking-[0.35em] text-muted-foreground", children: "Playbook" }), _jsx("p", { className: "mt-1 text-base font-semibold text-card-foreground", children: "Escalation \u00B7 Severity 1" }), _jsx("p", { className: "mt-1", children: "Auto-pages on-call, clamps automations, and mirrors telemetry to cold storage." })] }), _jsxs("div", { className: "rounded-2xl border border-border/70 bg-background/70 p-4 text-sm text-muted-foreground", children: [_jsx("p", { className: "text-xs uppercase tracking-[0.35em] text-muted-foreground", children: "Playbook" }), _jsx("p", { className: "mt-1 text-base font-semibold text-card-foreground", children: "Containment \u00B7 Severity 2" }), _jsx("p", { className: "mt-1", children: "Applies policy overrides and schedules follow-up automation reviews." })] })] })] })] })] }) }));
};
export default Alerts;
